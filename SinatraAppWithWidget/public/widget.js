// Generated by CoffeeScript 1.4.0
(function() {

  $(function() {
    $("div#dialog").dialog({
      modal: true,
      autoOpen: true,
      show: "bounce",
      hide: "puff",
      open: function() {
        return $.ajax({
          dataType: 'jsonp',
          url: gon.jsonp_url,
          error: function(data, status, jqXHR) {
            return console.log("error loading Json " + data + ", " + status + " & " + jqXHR);
          },
          success: function(data, status, xhr) {
            var item, _i, _len, _results;
            console.log("success " + data[0].name + ", " + status + ", " + xhr);
            _results = [];
            for (_i = 0, _len = data.length; _i < _len; _i++) {
              item = data[_i];
              _results.push($('#content').append("<li>" + item.name + " <img src='" + item.thumbnail + "' alt='thumbnail' /> <a href='" + item.link + "'> link </a> </li>"));
            }
            return _results;
          }
        });
      },
      close: function() {
        $('#content').html("Articles: <br/>");
        return console.log("Reset Window Content: " + ($('div#content').contents()));
      }
    });
    $('#open').click(function() {
      return $('div#dialog').dialog("open");
    });
    return $('body').css('background', '#9999CC');
  });

}).call(this);
